<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Asteroid Impact Simulator</title>
  <!-- Bootstrap CSS for simple styling -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
        integrity="sha384-9ndCyUaTIk4yJDEyfzd8g2ZA9zWL3Yzl1sx2Y+Lyp4hXQeN5RWZSi9JJ9+8p3Z6b"
        crossorigin="anonymous">
  <link rel="stylesheet" href="static/css/style.css">
</head>
<body>
  <div class="container-fluid">
    <div class="row flex-nowrap">
      <!-- Sidebar for controls -->
      <div class="col-12 col-md-3 col-xl-2 bg-light p-3">
        <h2 class="mb-3">Impact Simulator</h2>
        <form id="simForm" class="mb-3">
          <div class="mb-3">
            <label for="neoId" class="form-label">NEO ID (optional)</label>
            <input type="text" id="neoId" class="form-control" placeholder="3542519">
            <div class="form-text">Enter a NASA SPK-ID to load orbital data automatically.</div>
          </div>
          <div class="mb-3">
            <label for="diameter" class="form-label">Impactor Diameter (m)</label>
            <input type="number" id="diameter" class="form-control" value="100">
            <div class="form-text">Size of the asteroid in metres.</div>
          </div>
          <div class="mb-3">
            <label for="density" class="form-label">Density (kg/m³)</label>
            <input type="number" id="density" class="form-control" value="3000">
            <div class="form-text">Typical rocky asteroids are around 3,000 kg/m³.</div>
          </div>
          <div class="mb-3">
            <label for="velocity" class="form-label">Impact Velocity (km/s)</label>
            <input type="number" id="velocity" class="form-control" value="20">
            <div class="form-text">Relative velocity at impact. If left unchanged the orbital velocity is used.</div>
          </div>
          <div class="mb-3">
            <label for="angle" class="form-label">Impact Angle (°)</label>
            <input type="number" id="angle" class="form-control" value="45">
            <div class="form-text">Angle measured from the horizontal plane. 90° is vertical.</div>
          </div>
          <div class="mb-3">
            <label for="timespan" class="form-label">Simulation Timespan (days)</label>
            <input type="number" id="timespan" class="form-control" value="365">
            <div class="form-text">Length of orbit sample. Shorter spans compute faster.</div>
          </div>
          <div class="mb-3">
            <label for="steps" class="form-label">Orbit Samples</label>
            <input type="number" id="steps" class="form-control" value="200">
            <div class="form-text">Number of points to sample along the orbit.</div>
          </div>
          <button type="submit" class="btn btn-primary w-100">Run Simulation</button>
        </form>
        <div id="results" class="mb-3 small">
          <!-- Simulation results will be injected here -->
        </div>
        <div>
          <label class="form-label">Shareable Link:</label>
          <input type="text" id="shareLink" class="form-control" readonly>
          <div class="form-text">Copy this URL to share your simulation settings.</div>
        </div>
      </div>
      <!-- Visualization area -->
      <div class="col" id="vizWrapper">
        <div id="threeContainer"></div>
        <p class="mt-2 small text-muted">
          Tip: Click and drag to rotate the view. Scroll to zoom.
        </p>
      </div>
    </div>
  </div>
  <!-- External libraries -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.144.0/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.144.0/examples/js/controls/OrbitControls.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/d3@7.8.4/dist/d3.min.js"></script>
  <script src="static/js/main.js"></script>
</body>
</html>